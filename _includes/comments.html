{% if page.comments != false %}
  {% case site.comments_provider %}
    {% when 'gitalk' %}
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"/>
      <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

      <div id="gitalk-container"></div>
      <script>
        var gitalk = new Gitalk({
          clientID: '{{ site.gitalk.clientID }}',
          clientSecret: '{{ site.gitalk.clientSecret }}',
          repo: '{{ site.gitalk.repo }}',
          owner: '{{ site.gitalk.owner }}',
          admin: ['{{ site.gitalk.owner }}'],
          labels: ['reader-comments'],
          perPage: ['{{ site.gitalk.perPage }}'],
          proxy: ['{{ site.gitalk.proxy }}'],
          id: location.pathname,      // Ensure uniqueness and length less than 50
          distractionFreeMode: false  // Facebook-like distraction free mode
        })
        gitalk.render('gitalk-container')
      </script>
    {% when 'livere' %}
      <div id="lv-container" data-id="city" data-uid="{{ site.livere.livere_uid }}">
        <script type="text/javascript">
          (function(d, s) {
            var j, e = d.getElementsByTagName(s)[0];

            if (typeof LivereTower === 'function') { return; }

            j = d.createElement(s);
            j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
            j.async = true;

            e.parentNode.insertBefore(j, e);
          })(document, 'script');
        </script>
      <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
      </div>
  {% endcase %}
{% endif %}
